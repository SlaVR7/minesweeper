(()=>{"use strict";var e={481:(e,t,a)=>{let l,o;a.d(t,{GE:()=>n,H4:()=>o,Ie:()=>l,Nu:()=>i,iO:()=>r,wz:()=>s}),localStorage.getItem("howMatchMines")||localStorage.setItem("howMatchMines","10"),localStorage.getItem("resumeGame")||localStorage.setItem("resumeGame","false"),localStorage.getItem("time")||localStorage.setItem("time","0"),localStorage.getItem("click")||localStorage.setItem("click","0");const c=[];function s(){if("true"!==localStorage.getItem("resumeGame"))for(let e=0;e<+localStorage.getItem("level");e+=1){c[e]=[];for(let t=0;t<+localStorage.getItem("level");t+=1)c[e][t]={hasMine:!1,checked:!1,opened:!1,id:`${e}Y${t}`}}}function n(){if("true"!==localStorage.getItem("resumeGame"))for(let e=0;e<+localStorage.getItem("level");e+=1)for(let t=0;t<+localStorage.getItem("level");t+=1)c[e][t].hasMine=!1}function r(){if("true"!==localStorage.getItem("resumeGame"))for(let e=0;e<localStorage.getItem("howMatchMines");){const t=Math.floor(Math.random()*+localStorage.getItem("level")),a=Math.floor(Math.random()*+localStorage.getItem("level"));c[t][a].hasMine||(c[t][a].hasMine=!0,e+=1)}}function i(e){"black"===localStorage.getItem("theme")&&document.body.classList.add("bodyBlack");const t=document.createElement("h1");t.classList.add("title"),"black"===localStorage.getItem("theme")&&t.classList.add("white"),t.innerText="Welcome to Minesweeper!",document.body.appendChild(t);const a=document.createElement("div");a.classList.add("nav"),document.body.appendChild(a);const s=document.createElement("button");s.classList.add("new-game"),s.innerText="New game",a.appendChild(s);const n=document.createElement("div");n.classList.add("speaker"),"black"===localStorage.getItem("theme")&&"on"===localStorage.getItem("speaker")?n.className="speaker speakerOnWhite":"black"===localStorage.getItem("theme")&&"off"===localStorage.getItem("speaker")?n.className="speaker speakerOffWhite":"white"===localStorage.getItem("theme")&&"off"===localStorage.getItem("speaker")?n.className="speaker speakerOff":"white"===localStorage.getItem("theme")&&"on"===localStorage.getItem("speaker")?n.className="speaker speakerOn":(n.className="speaker speakerOn",localStorage.setItem("speaker","on")),a.appendChild(n);const r=document.createElement("div");r.classList.add("theme"),r.classList.add("themeWhite"),"black"===localStorage.getItem("theme")&&r.classList.add("themeBlack"),a.appendChild(r);const i=document.createElement("button");i.classList.add("resultsBtn"),i.innerText="Results",a.appendChild(i);const d=document.createElement("div");d.classList.add("level"),document.body.appendChild(d);const m=document.createElement("div");m.classList.add("levelContainer"),d.appendChild(m);const u=document.createElement("div");u.classList.add("levelTitle"),"black"===localStorage.getItem("theme")&&u.classList.add("white"),u.innerText="Level:",m.appendChild(u);const g=document.createElement("select");g.setAttribute("id","options"),m.appendChild(g),l=document.getElementById("options");const S=document.createElement("option");S.setAttribute("value","easy"),S.innerText="easy","10"===localStorage.getItem("level")&&S.setAttribute("selected",""),g.appendChild(S);const h=document.createElement("option");h.setAttribute("value","medium"),h.innerText="medium","15"===localStorage.getItem("level")&&h.setAttribute("selected",""),g.appendChild(h);const p=document.createElement("option");p.setAttribute("value","hard"),p.innerText="hard","25"===localStorage.getItem("level")&&p.setAttribute("selected",""),g.appendChild(p);const I=document.createElement("div");I.classList.add("minesContainer"),d.appendChild(I);const v=document.createElement("div");v.classList.add("howMatchMines"),"black"===localStorage.getItem("theme")&&v.classList.add("white"),v.innerText="Mines:",I.appendChild(v);const L=document.createElement("input");L.setAttribute("id","selectMines"),L.setAttribute("type","number"),L.setAttribute("min","10"),L.setAttribute("max","99"),L.setAttribute("value",localStorage.getItem("howMatchMines")),I.appendChild(L),o=document.getElementById("selectMines"),localStorage.setItem("howMatchMines",o.valueAsNumber);const k=document.createElement("div");k.classList.add("nav"),document.body.appendChild(k),"undefined"===localStorage.getItem("time")&&localStorage.setItem("time","0");const f=document.createElement("div");f.classList.add("timer"),"black"===localStorage.getItem("theme")&&f.classList.add("white"),f.innerText=`Time: ${localStorage.getItem("time")} seconds`,k.appendChild(f),"undefined"===localStorage.getItem("click")&&localStorage.setItem("click","0");const b=document.createElement("div");b.classList.add("countNumb"),"black"===localStorage.getItem("theme")&&b.classList.add("white"),b.innerText=`Number of click: ${localStorage.getItem("click")}`,k.appendChild(b);const y=document.createElement("div");y.classList.add("gameFieldContainer"),document.body.appendChild(y);const E=document.createElement("div");E.classList.add("game-field"),"black"===localStorage.getItem("theme")&&E.classList.add("gameFieldBlack"),y.appendChild(E);const w=document.createElement("audio");w.setAttribute("id","bombSound"),w.setAttribute("src","assets/sound/lose.wav"),document.body.appendChild(w);const M=document.createElement("audio");M.setAttribute("id","flagSound"),M.setAttribute("src","assets/sound/click.wav"),document.body.appendChild(M);const q=document.createElement("audio");q.setAttribute("id","clickSound"),q.setAttribute("src","assets/sound/tick.mp3"),document.body.appendChild(q);const T=document.createElement("audio");T.setAttribute("id","winSound"),T.setAttribute("src","assets/sound/win.mp3"),document.body.appendChild(T);for(let t=0;t<+localStorage.getItem("level");t+=1){const a=document.createElement("div");a.classList.add("row"),E.appendChild(a);for(let l=0;l<+localStorage.getItem("level");l+=1){const o=document.createElement("div");"new game"!==e&&"true"===localStorage.getItem("resumeGame")?(o.className=localStorage.getItem(`class of ${t}Y${l}`),o.innerText=localStorage.getItem(`inner of ${t}Y${l}`)):o.classList.add("cell"),"black"===localStorage.getItem("theme")&&o.classList.add("cellBlack"),o.setAttribute("id",`${t}Y${l}`),a.appendChild(o)}}for(let e=0;e<+localStorage.getItem("level");e+=1)for(let t=0;t<+localStorage.getItem("level");t+=1){const a=document.getElementById(`${e}Y${t}`);"false"===localStorage.getItem("resumeGame")&&!0===c[e][t].hasMine&&a.classList.add("mine")}}localStorage.getItem("level")||localStorage.setItem("level","10"),s(),r(),i()},973:(e,t,a)=>{var l=a(481);localStorage.getItem("isFirstMove")&&"undefined"!==localStorage.getItem("isFirstMove")||localStorage.setItem("isFirstMove","true");let o,c,s,n,r=document.querySelectorAll(".cell"),i=document.querySelector(".new-game"),d=document.querySelector(".countNumb"),m=0;const u=document.getElementById("bombSound"),g=document.getElementById("flagSound"),S=document.getElementById("clickSound"),h=document.getElementById("winSound");let p,I,v,L=document.querySelector(".speaker"),k=document.querySelector(".resultsBtn"),f=document.querySelector(".theme"),b=document.querySelector(".title"),y=document.querySelector(".timer"),E=document.querySelector(".countNumb"),w=document.querySelector(".game-field"),M=document.querySelector(".levelTitle"),q=document.querySelector(".howMatchMines"),T=localStorage.getItem("time"),N=[];function B(e,t){const a=e.split("");let l="";a.forEach((e=>{isNaN(e)&&"Y"!==e||(l+=e)})),l=l.trim();const o=l.split("Y");return"left"===t?+o[0]:"right"===t?+o[1]:void 0}function C(e){if(e.target.classList.contains("invisible")||""!==e.target.innerText)return;const t=e.target.getAttribute("id"),a=[document.getElementById(`${B(t,"left")-1}Y${B(t,"right")}`),document.getElementById(`${B(t,"left")-1}Y${B(t,"right")-1}`),document.getElementById(`${B(t,"left")}Y${B(t,"right")-1}`),document.getElementById(`${B(t,"left")+1}Y${B(t,"right")-1}`),document.getElementById(`${B(t,"left")+1}Y${B(t,"right")}`),document.getElementById(`${B(t,"left")+1}Y${B(t,"right")+1}`),document.getElementById(`${B(t,"left")}Y${B(t,"right")+1}`),document.getElementById(`${B(t,"left")-1}Y${B(t,"right")+1}`)];let c=0;if(a.forEach((e=>{e&&e.classList.contains("mine")&&(c+=1)})),0!==c||e.target.classList.contains("bomb-here")||(e.target.classList.add("invisible"),a.forEach((e=>{let t;e&&(t=e.getAttribute("id")),!t||e.classList.contains("mine")||e.classList.contains("invisible")||C({target:e})}))),0!==c)switch(e.target.classList.remove("bomb-here"),e.target.innerText=c,c){case 1:e.target.classList.add("white");break;case 2:e.target.classList.add("blue");break;case 3:e.target.classList.add("yellow");break;case 4:e.target.classList.add("orange");break;case 5:e.target.classList.add("green");break;case 6:e.target.classList.add("violet");break;case 7:e.target.classList.add("brown");break;default:e.target.classList.add("pink")}o=0;for(let e=0;e<+localStorage.getItem("level");e+=1)for(let t=0;t<+localStorage.getItem("level");t+=1)(document.getElementById(`${e}Y${t}`).classList.contains("invisible")||""!==document.getElementById(`${e}Y${t}`).innerText)&&(o+=1);o===localStorage.getItem("level")**2-l.H4.valueAsNumber&&A("win")}function $(){if(localStorage.setItem("resumeGame","false"),l.H4.valueAsNumber<10||l.H4.valueAsNumber>99)return alert("Number of mines should be between 10 and 99!"),void(l.H4.valueAsNumber=10);localStorage.setItem("howMatchMines",l.H4.valueAsNumber),localStorage.setItem("time","0"),T=0,I=0,localStorage.setItem("click","0"),v=0,(0,l.wz)(),(0,l.GE)(),(0,l.iO)(),localStorage.setItem("isFirstMove","true"),document.body.innerHTML="",(0,l.Nu)("new game"),r=document.querySelectorAll(".cell"),r.forEach((e=>{e.addEventListener("click",O),e.addEventListener("contextmenu",F)})),i=document.querySelector(".new-game"),i.addEventListener("click",$),clearTimeout(n),m=0,L=document.querySelector(".speaker"),L.addEventListener("click",(()=>Y("soundToggle"))),k=document.querySelector(".resultsBtn"),k.addEventListener("click",G),f=document.querySelector(".theme"),f.addEventListener("click",H),b=document.querySelector(".title"),y=document.querySelector(".timer"),E=document.querySelector(".countNumb"),w=document.querySelector(".game-field"),M=document.querySelector(".levelTitle"),q=document.querySelector(".howMatchMines"),l.Ie.addEventListener("change",W)}function A(e){s=new Date;const t=Math.floor((s-c)/1e3),a=document.createElement("div"),l=document.createElement("div"),o=document.createElement("button");a.classList.add("wrapper"),l.classList.add("game-over"),"lose"===e?l.innerText="Game over. Try again":(l.innerText=`Hooray! You found all mines in ${t} seconds and ${m} moves!`,Y("win"),N.push(`Time: ${t}, Moves: ${m}`),localStorage.setItem("results",JSON.stringify(N))),o.classList.add("new-game"),o.innerText="New game",document.body.appendChild(a),a.appendChild(l),a.appendChild(o),clearTimeout(n),localStorage.setItem("time","0"),o.addEventListener("click",$)}function x(){p=Math.floor((new Date-c)/1e3),I=isNaN(+T)?p:+T+ +p,y=document.querySelector(".timer"),y.innerText=`Time: ${I} seconds`,n=setTimeout(x,1e3)}function O(e){if(!e.target.classList.contains("invisible")&&""===e.target.innerText&&!e.target.classList.contains("bomb-here")&&(d=document.querySelector(".countNumb"),e.target.classList.contains("invisible")||(m+=1,Y("click")),v=m+ +localStorage.getItem("click"),d.innerText=`Number of click: ${v}`,"true"!==localStorage.getItem("isFirstMove")&&"true"!==localStorage.getItem("resumeGame")||(c=new Date,x()),!e.target.classList.contains("bomb-here"))){if(e.target.classList.contains("mine")&&"true"===localStorage.getItem("isFirstMove")){$();const t=e.target.getAttribute("id");O({target:document.getElementById(t)})}else e.target.classList.contains("mine")&&"false"===localStorage.getItem("isFirstMove")?(e.target.classList.add("bomb"),Y("lose"),A("lose")):C(e);localStorage.setItem("isFirstMove","false"),localStorage.setItem("resumeGame","false")}}function Y(e){"soundToggle"!==e||L.classList.contains("speakerOff")&&L.classList.contains("speakerOffWhite")||localStorage.setItem("speaker","off"),"soundToggle"===e&&(L.classList.contains("speakerOff")||L.classList.contains("speakerOffWhite"))&&localStorage.setItem("speaker","on"),"soundToggle"===e&&f.classList.contains("themeBlack")&&(L.classList.toggle("speakerOffWhite"),L.classList.toggle("speakerOnWhite")),"soundToggle"!==e||f.classList.contains("themeBlack")||(L.classList.remove("speakerOffWhite"),L.classList.toggle("speakerOff"),L.classList.toggle("speakerOn")),"lose"===e&&"on"===localStorage.getItem("speaker")&&u.play(),"flag"===e&&"on"===localStorage.getItem("speaker")&&g.play(),"click"===e&&"on"===localStorage.getItem("speaker")&&S.play(),"win"===e&&"on"===localStorage.getItem("speaker")&&h.play()}function F(e){e.preventDefault(),e.target.classList.contains("invisible")||""!==e.target.innerText||(e.target.classList.toggle("bomb-here"),Y("flag"))}function G(){const e=document.createElement("div");e.classList.add("wrapper"),e.classList.add("wrapper2"),document.body.appendChild(e);const t=document.createElement("div");t.classList.add("closeBtn"),e.appendChild(t);const a=document.createElement("div");a.classList.add("slashBtn");const l=document.createElement("div");l.classList.add("slashBtn2"),t.appendChild(a),t.appendChild(l);const o=document.createElement("h2");if(o.classList.add("resultsTitle"),o.innerText="Your last 10 results:",e.appendChild(o),N&&N.length>0)for(let t=0;t<=N.length-1;t++){const a=document.createElement("div");a.classList.add("result"),a.innerText=N[t],e.appendChild(a)}t.addEventListener("click",(()=>document.body.removeChild(e)))}function H(e){document.body.classList.toggle("bodyBlack"),"white"===localStorage.getItem("theme")?localStorage.setItem("theme","black"):"black"===localStorage.getItem("theme")&&localStorage.setItem("theme","white"),b.classList.toggle("white"),y.classList.toggle("white"),E.classList.toggle("white"),q.classList.toggle("white"),M.classList.toggle("white"),r.forEach((e=>{e.classList.toggle("cellBlack")})),w.classList.toggle("gameFieldBlack"),"on"===localStorage.getItem("speaker")&&e.target.classList.contains("themeBlack")?(L.className="speaker",L.classList.add("speakerOn")):"off"!==localStorage.getItem("speaker")||e.target.classList.contains("themeBlack")?"on"!==localStorage.getItem("speaker")||e.target.classList.contains("themeBlack")?"off"===localStorage.getItem("speaker")&&e.target.classList.contains("themeBlack")&&(L.className="speaker",L.classList.add("speakerOff")):(L.className="speaker",L.classList.add("speakerOnWhite")):(L.className="speaker",L.classList.add("speakerOffWhite")),f.classList.toggle("themeBlack")}function W(){const e=l.Ie.value;"easy"===e&&(localStorage.setItem("time","0"),localStorage.setItem("click",0),localStorage.setItem("level","10"),localStorage.setItem("howMatchMines","10"),localStorage.setItem("isFirstMove","true"),(0,l.wz)(),(0,l.iO)(),document.body.innerHTML="",(0,l.Nu)("new game"),l.Ie.addEventListener("change",W),r=document.querySelectorAll(".cell"),r.forEach((e=>{e.addEventListener("click",O),e.addEventListener("contextmenu",F)})),i=document.querySelector(".new-game"),i.addEventListener("click",$),clearTimeout(n),m=0,L=document.querySelector(".speaker"),L.addEventListener("click",(()=>Y("soundToggle"))),k=document.querySelector(".resultsBtn"),k.addEventListener("click",G),f=document.querySelector(".theme"),f.addEventListener("click",H),b=document.querySelector(".title"),y=document.querySelector(".timer"),E=document.querySelector(".countNumb"),w=document.querySelector(".game-field"),M=document.querySelector(".levelTitle"),q=document.querySelector(".howMatchMines")),"medium"===e&&(localStorage.setItem("level","15"),localStorage.setItem("howMatchMines","30"),localStorage.setItem("time","0"),localStorage.setItem("click",0),localStorage.setItem("isFirstMove","true"),(0,l.wz)(),(0,l.iO)(),document.body.innerHTML="",(0,l.Nu)("new game"),l.Ie.addEventListener("change",W),r=document.querySelectorAll(".cell"),r.forEach((e=>{e.addEventListener("click",O),e.addEventListener("contextmenu",F)})),i=document.querySelector(".new-game"),i.addEventListener("click",$),clearTimeout(n),m=0,L=document.querySelector(".speaker"),L.addEventListener("click",(()=>Y("soundToggle"))),k=document.querySelector(".resultsBtn"),k.addEventListener("click",G),f=document.querySelector(".theme"),f.addEventListener("click",H),b=document.querySelector(".title"),y=document.querySelector(".timer"),E=document.querySelector(".countNumb"),w=document.querySelector(".game-field"),M=document.querySelector(".levelTitle"),q=document.querySelector(".howMatchMines")),"hard"===e&&(localStorage.setItem("level","25"),localStorage.setItem("howMatchMines","70"),localStorage.setItem("time","0"),localStorage.setItem("click",0),localStorage.setItem("isFirstMove","true"),(0,l.wz)(),(0,l.iO)(),document.body.innerHTML="",(0,l.Nu)("new game"),l.Ie.addEventListener("change",W),r=document.querySelectorAll(".cell"),r.forEach((e=>{e.addEventListener("click",O),e.addEventListener("contextmenu",F)})),i=document.querySelector(".new-game"),i.addEventListener("click",$),clearTimeout(n),m=0,L=document.querySelector(".speaker"),L.addEventListener("click",(()=>Y("soundToggle"))),k=document.querySelector(".resultsBtn"),k.addEventListener("click",G),f=document.querySelector(".theme"),f.addEventListener("click",H),b=document.querySelector(".title"),y=document.querySelector(".timer"),E=document.querySelector(".countNumb"),w=document.querySelector(".game-field"),M=document.querySelector(".levelTitle"),q=document.querySelector(".howMatchMines"))}JSON.parse(localStorage.getItem("results"))&&(N=JSON.parse(localStorage.getItem("results"))),r.forEach((e=>{e.addEventListener("click",(e=>{O(e)})),e.addEventListener("contextmenu",F)})),i.addEventListener("click",$),L.addEventListener("click",(()=>Y("soundToggle"))),k.addEventListener("click",G),null===localStorage.getItem("theme")&&localStorage.setItem("theme","white"),f.addEventListener("click",H),window.addEventListener("beforeunload",(function(){for(let e=0;e<localStorage.getItem("level")**2;e+=1){const t="class of "+r[e].getAttribute("id"),a=r[e].className,l=r[e].innerText,o="inner of "+r[e].getAttribute("id");localStorage.setItem(t,a),localStorage.setItem(o,l)}m>0&&(localStorage.setItem("time",I),localStorage.setItem("click",v)),o>0&&(localStorage.setItem("isFirstMove","false"),localStorage.setItem("resumeGame","true"))})),l.Ie.addEventListener("change",W)}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var c=t[l]={exports:{}};return e[l](c,c.exports,a),c.exports}a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(481),a(973)})();